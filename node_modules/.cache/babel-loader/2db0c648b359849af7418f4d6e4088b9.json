{"ast":null,"code":"var _jsxFileName = \"/Users/onceuponaprince/Desktop/beta-master/src/components/WalletProviderModal/WalletProviderModal.tsx\";\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\nimport metamaskLogo from \"../../assets/img/metamask-fox.svg\";\nimport walletConnectLogo from \"../../assets/img/wallet-connect.svg\";\nimport { useToasts } from 'react-toast-notifications';\nimport Button from '../Button';\nimport Modal from '../Modal';\nimport ModalActions from '../ModalActions';\nimport ModalContent from '../ModalContent';\nimport ModalTitle from '../ModalTitle';\nimport Spacer from '../Spacer';\nimport WalletCard from './components/WalletCard';\n\nconst WalletProviderModal = ({\n  onDismiss\n}) => {\n  const {\n    account,\n    connect,\n    error,\n    status\n  } = useWallet();\n  const {\n    addToast\n  } = useToasts();\n  useEffect(() => {\n    if (account) {\n      onDismiss();\n    }\n  }, [account, onDismiss]); //The wallet returns disconnected state on the first error\n\n  async function handleError() {\n    if (status === \"error\") {\n      //default error message\n      let msg = error.message; //No code for this error\n\n      if (error.name === \"ChainUnsupportedError\") {\n        let parts = error.message.split('.', 2);\n        msg = \"Your wallet is set to the wrong chain! \" + parts[parts.length - 1];\n      } //User not logged into Metamask, no Error type just code...\n\n\n      if (error.code === -32002) {\n        msg = \"Please check your MetaMask for issues!\";\n      }\n\n      addToast(msg, {\n        appearance: 'error',\n        autoDismiss: true\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalTitle, {\n    text: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DisclaimerTextWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DisclaimerText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Project is in beta.\"), /*#__PURE__*/React.createElement(DisclaimerText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Use at your own risk.\")), /*#__PURE__*/React.createElement(ModalContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledWalletsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledWalletCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(WalletCard, {\n    icon: /*#__PURE__*/React.createElement(\"img\", {\n      src: metamaskLogo,\n      style: {\n        height: 32\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }),\n    onConnect: () => connect('injected').then(handleError),\n    title: \"MetaMask\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Spacer, {\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StyledWalletCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(WalletCard, {\n    icon: /*#__PURE__*/React.createElement(\"img\", {\n      src: walletConnectLogo,\n      style: {\n        height: 24\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }),\n    onConnect: () => connect('walletconnect'),\n    title: \"WalletConnect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(CancelButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    text: \"Cancel\",\n    variant: \"secondary\",\n    onClick: onDismiss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }))));\n};\n\nconst DisclaimerTextWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\nconst DisclaimerText = styled.div`\n  color: #bdbdbd;\n`;\nconst CancelButtonWrapper = styled.div`\n  width: 50%;\n  margin: auto;\n  \n  @media (max-width: 950px) {\n   width: 90%;\n  }\n`;\nconst StyledWalletsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  @media (max-width: 950px) {\n    flex-direction: column;\n    flex-wrap: none;\n    display: block;\n  }\n`;\nconst StyledWalletCard = styled.div`\n  flex-basis: calc(50% - ${props => props.theme.spacing[2]}px);\n  width: calc(50% - ${props => props.theme.spacing[2]}px);\n  \n  @media (max-width: 950px) {\n    width: 80%;\n    margin: auto;\n  }\n`;\nexport default WalletProviderModal;","map":{"version":3,"sources":["/Users/onceuponaprince/Desktop/beta-master/src/components/WalletProviderModal/WalletProviderModal.tsx"],"names":["React","useEffect","styled","useWallet","useToasts","Button","Modal","ModalActions","ModalContent","ModalTitle","Spacer","WalletCard","WalletProviderModal","onDismiss","account","connect","error","status","addToast","handleError","msg","message","name","parts","split","length","code","appearance","autoDismiss","metamaskLogo","height","then","walletConnectLogo","DisclaimerTextWrapper","div","DisclaimerText","CancelButtonWrapper","StyledWalletsWrapper","StyledWalletCard","props","theme","spacing"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport {ChainUnsupportedError, useWallet} from 'use-wallet'\n\nimport metamaskLogo from '../../assets/img/metamask-fox.svg'\nimport walletConnectLogo from '../../assets/img/wallet-connect.svg'\nimport { useToasts } from 'react-toast-notifications'\n\nimport Button from '../Button'\nimport Modal, { ModalProps } from '../Modal'\nimport ModalActions from '../ModalActions'\nimport ModalContent from '../ModalContent'\nimport ModalTitle from '../ModalTitle'\nimport Spacer from '../Spacer'\n\nimport WalletCard from './components/WalletCard'\n\nconst WalletProviderModal: React.FC<ModalProps> = ({ onDismiss }) => {\n\n  const { account, connect,error, status } = useWallet()\n  const { addToast } = useToasts()\n\n  useEffect(() => {\n    if (account) {\n      onDismiss()\n    }\n  }, [account, onDismiss])\n\n  //The wallet returns disconnected state on the first error\n  async function handleError() {\n    if (status === \"error\") {\n        //default error message\n        let msg = error.message;\n\n        //No code for this error\n         if( error.name === \"ChainUnsupportedError\") {\n             let parts = error.message.split('.',2);\n             msg = \"Your wallet is set to the wrong chain! \"+parts[parts.length-1];\n         }\n\n         //User not logged into Metamask, no Error type just code...\n         if (error.code === -32002){\n             msg= \"Please check your MetaMask for issues!\";\n         }\n\n        addToast(msg, { appearance: 'error', autoDismiss: true });\n    }\n  }\n\n  return (\n    <Modal>\n      <ModalTitle text=\"\" />\n\n        <DisclaimerTextWrapper>\n            <DisclaimerText>Project is in beta.</DisclaimerText>\n            <DisclaimerText>Use at your own risk.</DisclaimerText>\n        </DisclaimerTextWrapper>\n      <ModalContent>\n\n        <StyledWalletsWrapper>\n\n          <StyledWalletCard>\n\n            <WalletCard\n              icon={<img src={metamaskLogo} style={{ height: 32 }} />}\n              onConnect={() => connect('injected').then(handleError)}\n              title=\"MetaMask\"\n            />\n          </StyledWalletCard>\n          <Spacer size=\"sm\" />\n          <StyledWalletCard>\n            <WalletCard\n              icon={<img src={walletConnectLogo} style={{ height: 24 }} />}\n              onConnect={() => connect('walletconnect')}\n              title=\"WalletConnect\"\n            />\n          </StyledWalletCard>\n        </StyledWalletsWrapper>\n      </ModalContent>\n    <CancelButtonWrapper>\n      <ModalActions>\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\n      </ModalActions>\n    </CancelButtonWrapper>\n    </Modal>\n  )\n}\n\nconst DisclaimerTextWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst DisclaimerText = styled.div`\n  color: #bdbdbd;\n`;\n\nconst CancelButtonWrapper = styled.div`\n  width: 50%;\n  margin: auto;\n  \n  @media (max-width: 950px) {\n   width: 90%;\n  }\n`;\n\nconst StyledWalletsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  @media (max-width: 950px) {\n    flex-direction: column;\n    flex-wrap: none;\n    display: block;\n  }\n`\n\nconst StyledWalletCard = styled.div`\n  flex-basis: calc(50% - ${props => props.theme.spacing[2]}px);\n  width: calc(50% - ${props => props.theme.spacing[2]}px);\n  \n  @media (max-width: 950px) {\n    width: 80%;\n    margin: auto;\n  }\n`\n\nexport default WalletProviderModal\n"]},"metadata":{},"sourceType":"module"}
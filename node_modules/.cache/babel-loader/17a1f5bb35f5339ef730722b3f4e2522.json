{"ast":null,"code":"var _jsxFileName = \"/Users/onceuponaprince/Desktop/beta-master/src/views/Farms/components/FarmCards.tsx\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { useWallet } from 'use-wallet';\nimport Button from '../../../components/Button';\nimport Spacer from '../../../components/Spacer';\nimport useFarms from '../../../hooks/useFarms';\nimport useYam from '../../../hooks/useYam';\nimport { bnToDec } from '../../../utils';\nimport { getEarned, getPoolStartTime } from '../../../yamUtils';\nimport AccountButton from \"../../../components/TopBar/components/AccountButton\";\nimport HomeCard from \"../../../components/HomeCard\";\nimport HomeCardContent from \"../../../components/HomeCardContent\";\nimport useCalulateApy from \"../../../hooks/useCalculateApy\";\nimport useEarnings from \"../../../hooks/useEarnings\";\nimport useStakedBalance from \"../../../hooks/useStakedBalance\";\nimport LoadingButton from \"../../Farm/components/LoadingButton\";\nimport useRedeem from \"../../../hooks/useRedeem\";\n\nconst FarmCards = Props => {\n  const [farms] = useFarms();\n  const {\n    account\n  } = useWallet();\n  const threeX = farms.filter(farm => farm.category === '3x');\n  const threeXRows = threeX.reduce((farmRows, farm) => {\n    const newFarmRows = [...farmRows];\n\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\n      newFarmRows.push([farm]);\n    } else {\n      newFarmRows[newFarmRows.length - 1].push(farm);\n    }\n\n    return newFarmRows;\n  }, [[]]);\n  const base = farms.filter(farm => farm.category === 'base');\n  const baseRows = base.reduce((farmRows, farm) => {\n    const newFarmRows = [...farmRows];\n\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\n      newFarmRows.push([farm]);\n    } else {\n      newFarmRows[newFarmRows.length - 1].push(farm);\n    }\n\n    return newFarmRows;\n  }, [[]]);\n  const lp = farms.filter(farm => farm.category === 'lp');\n  const lpRows = lp.reduce((farmRows, farm) => {\n    const newFarmRows = [...farmRows];\n\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\n      newFarmRows.push([farm]);\n    } else {\n      newFarmRows[newFarmRows.length - 1].push(farm);\n    }\n\n    return newFarmRows;\n  }, [[]]);\n  return /*#__PURE__*/React.createElement(StyledCards, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, !!threeXRows[0].length && /*#__PURE__*/React.createElement(StyledCategoryTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 34\n    }\n  }, \"3x Rewards\"), !!threeXRows[0].length ? threeXRows.map((farmRow, i) => /*#__PURE__*/React.createElement(StyledRow, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, farmRow.map((farm, j) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: j,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FarmCard, {\n    farm: farm,\n    activateFarm: Props.activateFarm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), (j === 0 || j === 1) && /*#__PURE__*/React.createElement(StyledSpacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 42\n    }\n  }))))) : /*#__PURE__*/React.createElement(StyledMarginWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledLoadingWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccountButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }))), !!baseRows[0].length && /*#__PURE__*/React.createElement(StyledCategoryTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 32\n    }\n  }, \"Base Assets\"), baseRows && baseRows.map((farmRow, i) => /*#__PURE__*/React.createElement(StyledRow, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, farmRow.map((farm, j) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: j,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FarmCard, {\n    farm: farm,\n    activateFarm: Props.activateFarm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }), (j === 0 || j === 1) && /*#__PURE__*/React.createElement(StyledSpacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 44\n    }\n  }))))), !!lpRows[0].length && /*#__PURE__*/React.createElement(StyledCategoryTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 30\n    }\n  }, \"LP\"), lpRows && lpRows.map((farmRow, i) => /*#__PURE__*/React.createElement(StyledRow, {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, farmRow.map((farm, j) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: j,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FarmCard, {\n    farm: farm,\n    activateFarm: Props.activateFarm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }), (j === 0 || j === 1) && /*#__PURE__*/React.createElement(StyledSpacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 44\n    }\n  }))))));\n};\n\nconst FarmCard = ({\n  farm,\n  activateFarm\n}) => {\n  const [startTime, setStartTime] = useState(0);\n  const [harvestable, setHarvestable] = useState(0);\n  const [opInProgress, setOpInProgress] = useState(false);\n  const [mouseOver, setMouseOver] = useState(false);\n  const [earnings, refreshEarnings] = useEarnings(farm.contract);\n  const [stakedBalance, refreshBalance] = useStakedBalance(farm.contract);\n  const {\n    onRedeem\n  } = useRedeem(farm.contract);\n  const [apy, refreshApy] = useCalulateApy(farm.stakingTokenContract, farm.contract);\n  const {\n    contract\n  } = farm;\n  const {\n    account\n  } = useWallet();\n  const yam = useYam();\n  const getStartTime = useCallback(async () => {\n    const startTime = await getPoolStartTime(farm.contract);\n    setStartTime(startTime);\n  }, [farm, setStartTime]);\n\n  const renderer = countdownProps => {\n    const {\n      hours,\n      minutes,\n      seconds\n    } = countdownProps;\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds;\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes;\n    const paddedHours = hours < 10 ? `0${hours}` : hours;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }\n    }, paddedHours, \":\", paddedMinutes, \":\", paddedSeconds);\n  };\n\n  useEffect(() => {\n    if (farm && farm.id === 'ycrv_yam_uni_lp') {\n      getStartTime();\n    }\n  }, [farm, getStartTime]);\n  useEffect(() => {\n    async function fetchEarned() {\n      const earned = await getEarned(yam, contract, account);\n      setHarvestable(bnToDec(earned));\n    }\n\n    if (yam && account) {\n      fetchEarned();\n    }\n  }, [yam, contract, account, setHarvestable]);\n  const poolActive = startTime * 1000 - Date.now() <= 0;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onMouseOver: () => setMouseOver(true),\n    onMouseOut: () => setMouseOver(false),\n    id: farm.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }\n  }, mouseOver ? /*#__PURE__*/React.createElement(StyledCardAccent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }) : null, /*#__PURE__*/React.createElement(HomeCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HomeCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardIconBigger, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(StyledIcon, {\n    src: farm.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(IconText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, farm.depositToken), !isNaN(apy) ? /*#__PURE__*/React.createElement(StyledHarvestable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, apy.toFixed(2), \"% APR\") : /*#__PURE__*/React.createElement(StyledHarvestable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, \"Mining finished!\"), /*#__PURE__*/React.createElement(StyledContentHorizontal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }, !opInProgress && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    disabled: !poolActive,\n    text: poolActive ? 'Select' : undefined,\n    onClick: () => activateFarm(farm.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  })), earnings.isGreaterThan(0) && stakedBalance.isGreaterThan(0) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Spacer, {\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(LoadingButton, {\n    defaultText: \"Collect\",\n    loadingText: \"Collecting\",\n    onClick: () => {\n      setOpInProgress(true);\n      return onRedeem();\n    },\n    onFinished: () => {\n      setOpInProgress(false);\n      refreshEarnings();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nconst StyledCategoryTitle = styled.div`\n  position: relative;\n  color: #fff;\n  padding: 20px 0;\n  font-weight: bold;\n  font-size: 20px;\n`;\nconst CardIconBigger = styled.div`\n  width: 100px;\n  height: 100px;\n`;\nconst IconText = styled.div`\n  color: #F0E7EA;\n  font-size: 13px;\n  text-align: center;\n  margin-top: 5px;\n`;\nconst StyledText = styled.div`\n  color: #F0E7EA;\n  font-size: 18px;\n  font-weight: 400;\n  text-align: center;\n`;\nconst IconContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\nconst StyledIcon = styled.img`\n  width: 100%;\n  height: 100%;\n`;\nconst RainbowLight = keyframes`\n  \n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n`;\nconst StyledCardAccent = styled.div`\nbackground: linear-gradient(\n    45deg,\n    rgba(195, 169, 49, 1) 0%,\n    rgb(39,39,39) 10%,\n    rgba(195, 169, 49, 1) 20%,\n    rgba(195, 169, 49, 1) 30%,\n    rgb(39,39,39) 40%,\n    rgba(195, 169, 49, 1) 50%,\n    rgba(195, 169, 49, 1) 60%,\n    rgb(39,39,39) 70%,\n    rgba(195, 169, 49, 1) 80%,\n    rgba(195, 169, 49, 1) 90%,\n    rgba(195, 169, 49, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: ${RainbowLight} 4s linear infinite;\n  border-radius: 12px;\n  filter: blur(4px);\n  position: absolute;\n  \n  z-index: 1;\n \n  top: -2px; right: -2px; bottom: -2px; left: -2px;\n  \n\n`;\nconst StyledCards = styled.div`\n  /*width: 900px;*/\n  @media (max-width: 950px) {\n    width: 100%;\n  }\n \n`;\nconst StyledLoadingWrapper = styled.div`\n  margin: auto;\n  width: 160px;\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n   @media (max-width: 950px) {\n    margin: 100px;\n  }\n`;\nconst StyledRow = styled.div`\n  display: flex;\n  margin-bottom: ${props => props.theme.spacing[4]}px;\n  flex-flow: row wrap;\n  @media (max-width: 950px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  width: calc((900px - ${props => props.theme.spacing[4]}px * 2) / 3);\n  position: relative;\n  margin-bottom: 20px;\n  @media (max-width: 950px) {\n    margin-bottom: 0;\n  }\n  \n`;\nconst StyledTitle = styled.h4`\n  color: ${props => props.theme.color.grey[600]};\n  font-size: 24px;\n  font-weight: 700;\n  margin: ${props => props.theme.spacing[2]}px 0 0;\n  padding: 0;\n`;\nconst StyledContent = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  width: 90%;\n`;\nconst StyledContentHorizontal = styled.div`\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  width: 95%;\n`;\nconst StyledSpacer = styled.div`\n  height: ${props => props.theme.spacing[4]}px;\n  width: ${props => props.theme.spacing[4]}px;\n`;\nconst StyledDetails = styled.div`\n  margin-top: ${props => props.theme.spacing[2]}px;\n  text-align: center;\n`;\nconst StyledDetail = styled.div`\n  color: ${props => props.theme.color.grey[500]};\n`;\nconst StyledHarvestable = styled.div`\n  //color: ${props => props.theme.color.secondary.main};\n  color: #F0E7EA;\n  font-size: 16px;\n  height: 36px;\n  margin-top: 13px;\n  text-align: center;\n`;\nconst StyledMarginWrapper = styled.div`\n  margin-left: 50px;\n  margin-bottom: 140px;\n  @media (max-width: 950px) {\n    margin-left: 0;\n  }\n`;\nexport default FarmCards;","map":{"version":3,"sources":["/Users/onceuponaprince/Desktop/beta-master/src/views/Farms/components/FarmCards.tsx"],"names":["React","useCallback","useEffect","useState","styled","keyframes","useWallet","Button","Spacer","useFarms","useYam","bnToDec","getEarned","getPoolStartTime","AccountButton","HomeCard","HomeCardContent","useCalulateApy","useEarnings","useStakedBalance","LoadingButton","useRedeem","FarmCards","Props","farms","account","threeX","filter","farm","category","threeXRows","reduce","farmRows","newFarmRows","length","push","base","baseRows","lp","lpRows","map","farmRow","i","j","activateFarm","FarmCard","startTime","setStartTime","harvestable","setHarvestable","opInProgress","setOpInProgress","mouseOver","setMouseOver","earnings","refreshEarnings","contract","stakedBalance","refreshBalance","onRedeem","apy","refreshApy","stakingTokenContract","yam","getStartTime","renderer","countdownProps","hours","minutes","seconds","paddedSeconds","paddedMinutes","paddedHours","width","id","fetchEarned","earned","poolActive","Date","now","icon","depositToken","isNaN","toFixed","undefined","isGreaterThan","StyledCategoryTitle","div","CardIconBigger","IconText","StyledText","IconContainer","StyledIcon","img","RainbowLight","StyledCardAccent","StyledCards","StyledLoadingWrapper","StyledRow","props","theme","spacing","StyledCardWrapper","StyledTitle","h4","color","grey","StyledContent","StyledContentHorizontal","StyledSpacer","StyledDetails","StyledDetail","StyledHarvestable","secondary","main","StyledMarginWrapper"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport styled, { keyframes } from 'styled-components'\nimport Countdown, { CountdownRenderProps} from 'react-countdown'\nimport { useWallet } from 'use-wallet'\n\nimport Button from '../../../components/Button'\nimport CardIcon from '../../../components/CardIcon'\nimport Spacer from '../../../components/Spacer'\n\nimport useFarms from '../../../hooks/useFarms'\nimport useYam from '../../../hooks/useYam'\nimport { Farm } from '../../../contexts/Farms'\n\nimport { bnToDec } from '../../../utils'\nimport { getEarned, getPoolStartTime } from '../../../yamUtils'\n\n\nimport Icon from '../../../assets/img/auric_icon.png';\nimport auscm_coin from '../../../assets/img/coins/auscm_coin.png';\nimport Eth from '../../../assets/img/eth-diamond-purple.png'\nimport AccountButton from \"../../../components/TopBar/components/AccountButton\";\nimport HomeCard from \"../../../components/HomeCard\";\nimport HomeCardContent from \"../../../components/HomeCardContent\";\nimport useCalulateApy from \"../../../hooks/useCalculateApy\";\nimport useEarnings from \"../../../hooks/useEarnings\";\nimport useStakedBalance from \"../../../hooks/useStakedBalance\";\nimport LoadingButton from \"../../Farm/components/LoadingButton\";\nimport useRedeem from \"../../../hooks/useRedeem\";\n\ninterface FarmCardsProps {\n  activateFarm: React.Dispatch<React.SetStateAction<string>>,\n}\n\nconst FarmCards: React.FC<FarmCardsProps> = (Props) => {\n  const [farms] = useFarms()\n  const { account } = useWallet()\n\n  const threeX = farms.filter((farm) => farm.category === '3x');\n\n  const threeXRows = threeX.reduce<Farm[][]>((farmRows, farm) => {\n    const newFarmRows = [...farmRows]\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\n      newFarmRows.push([farm])\n    } else {\n      newFarmRows[newFarmRows.length - 1].push(farm)\n    }\n    return newFarmRows\n  }, [[]])\n\n  const base = farms.filter((farm) => farm.category === 'base');\n\n  const baseRows = base.reduce<Farm[][]>((farmRows, farm) => {\n    const newFarmRows = [...farmRows]\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\n      newFarmRows.push([farm])\n    } else {\n      newFarmRows[newFarmRows.length - 1].push(farm)\n    }\n    return newFarmRows\n  }, [[]])\n\n  const lp = farms.filter((farm) => farm.category === 'lp');\n\n  const lpRows = lp.reduce<Farm[][]>((farmRows, farm) => {\n    const newFarmRows = [...farmRows]\n    if (newFarmRows[newFarmRows.length - 1].length === 3) {\n      newFarmRows.push([farm])\n    } else {\n      newFarmRows[newFarmRows.length - 1].push(farm)\n    }\n    return newFarmRows\n  }, [[]])\n\n\n  return (\n    <StyledCards>\n      {!!threeXRows[0].length && <StyledCategoryTitle>3x Rewards</StyledCategoryTitle>}\n      {!!threeXRows[0].length ? threeXRows.map((farmRow, i) => (\n        <StyledRow key={i}>\n          {farmRow.map((farm, j) => (\n            <React.Fragment key={j}>\n\n                <FarmCard farm={farm} activateFarm={Props.activateFarm} />\n                {(j === 0 || j === 1) && <StyledSpacer />}\n\n            </React.Fragment>\n\n          ))}\n        </StyledRow>\n      )) : (\n          <StyledMarginWrapper>\n            <StyledLoadingWrapper>\n              <AccountButton/>\n            </StyledLoadingWrapper>\n          </StyledMarginWrapper>\n        )\n      }\n\n      {!!baseRows[0].length && <StyledCategoryTitle>Base Assets</StyledCategoryTitle>}\n      {baseRows && baseRows.map((farmRow, i) => (\n          <StyledRow key={i}>\n            {farmRow.map((farm, j) => (\n                <React.Fragment key={j}>\n\n                  <FarmCard farm={farm} activateFarm={Props.activateFarm}/>\n                  {(j === 0 || j === 1) && <StyledSpacer/>}\n\n                </React.Fragment>\n\n            ))}\n          </StyledRow>\n      ))\n      }\n\n      {!!lpRows[0].length && <StyledCategoryTitle>LP</StyledCategoryTitle>}\n      {lpRows && lpRows.map((farmRow, i) => (\n          <StyledRow key={i}>\n            {farmRow.map((farm, j) => (\n                <React.Fragment key={j}>\n\n                  <FarmCard farm={farm} activateFarm={Props.activateFarm}/>\n                  {(j === 0 || j === 1) && <StyledSpacer/>}\n\n                </React.Fragment>\n\n            ))}\n          </StyledRow>\n      ))\n      }\n\n\n    </StyledCards>\n  )\n}\n\ninterface FarmCardProps {\n  farm: Farm,\n  activateFarm: React.Dispatch<React.SetStateAction<string>>,\n}\n\nconst FarmCard: React.FC<FarmCardProps> = ({ farm, activateFarm }) => {\n  const [startTime, setStartTime] = useState(0)\n  const [harvestable, setHarvestable] = useState(0)\n  const [opInProgress, setOpInProgress] = useState(false)\n  const [mouseOver, setMouseOver] = useState(false);\n  const [earnings, refreshEarnings] = useEarnings(farm.contract)\n  const [stakedBalance, refreshBalance] = useStakedBalance(farm.contract);\n  const { onRedeem } = useRedeem(farm.contract)\n\n\n  const [apy, refreshApy] = useCalulateApy(farm.stakingTokenContract, farm.contract)\n\n  const { contract } = farm\n  const { account } = useWallet()\n  const yam = useYam()\n\n  const getStartTime = useCallback(async () => {\n    const startTime = await getPoolStartTime(farm.contract)\n    setStartTime(startTime)\n  }, [farm, setStartTime])\n\n  const renderer = (countdownProps: CountdownRenderProps) => {\n    const { hours, minutes, seconds } = countdownProps\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes\n    const paddedHours = hours < 10 ? `0${hours}` : hours\n    return (\n      <span style={{ width: '100%' }}>{paddedHours}:{paddedMinutes}:{paddedSeconds}</span>\n    )\n  }\n\n  useEffect(() => {\n    if (farm && farm.id === 'ycrv_yam_uni_lp') {\n      getStartTime()\n    }\n  }, [farm, getStartTime])\n\n  useEffect(() => {\n    async function fetchEarned () {\n      const earned = await getEarned(yam, contract, account)\n      setHarvestable(bnToDec(earned))\n    }\n    if (yam && account) {\n      fetchEarned()\n    }\n  }, [yam, contract, account, setHarvestable])\n\n  const poolActive = startTime * 1000 - Date.now() <= 0\n  return (\n      <div onMouseOver={() => setMouseOver(true)} onMouseOut={() => setMouseOver(false)} id={farm.id}>\n    <StyledCardWrapper>\n\n        {mouseOver? <StyledCardAccent /> : null}\n\n      <HomeCard >\n        <HomeCardContent>\n          <StyledContent>\n            <IconContainer>\n              <CardIconBigger><StyledIcon src={farm.icon} /></CardIconBigger>\n            </IconContainer>\n            <IconText>{farm.depositToken}</IconText>\n\n            {!isNaN(apy) ? (\n              <StyledHarvestable>\n                {apy.toFixed(2)}% APR\n              </StyledHarvestable>\n            ) :\n                <StyledHarvestable>Mining finished!</StyledHarvestable>\n            }\n\n\n            <StyledContentHorizontal>\n              {!opInProgress &&\n                <>\n                    <Button\n                        disabled={!poolActive}\n                        text={poolActive ? 'Select' : undefined}\n                        onClick={() => activateFarm(farm.id)}\n                    />\n                </>\n              }\n\n            {earnings.isGreaterThan(0) && stakedBalance.isGreaterThan(0) && (\n                <>\n                  <Spacer size='sm'/>\n                  <LoadingButton defaultText='Collect' loadingText='Collecting'\n                     onClick={() => {\n                       setOpInProgress(true);\n                       return onRedeem();\n                     }}\n                     onFinished={() => {\n                       setOpInProgress(false)\n                       refreshEarnings()\n                     } }\n                   />\n                 </>\n            )}\n            </StyledContentHorizontal>\n\n          </StyledContent>\n        </HomeCardContent>\n      </HomeCard>\n\n    </StyledCardWrapper>\n    </div>\n  )\n}\n\nconst StyledCategoryTitle = styled.div`\n  position: relative;\n  color: #fff;\n  padding: 20px 0;\n  font-weight: bold;\n  font-size: 20px;\n`;\n\nconst CardIconBigger = styled.div`\n  width: 100px;\n  height: 100px;\n`\n\nconst IconText = styled.div`\n  color: #F0E7EA;\n  font-size: 13px;\n  text-align: center;\n  margin-top: 5px;\n`;\n\nconst StyledText = styled.div`\n  color: #F0E7EA;\n  font-size: 18px;\n  font-weight: 400;\n  text-align: center;\n`;\n\nconst IconContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\nconst StyledIcon = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n\nconst RainbowLight = keyframes`\n  \n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n`\n\nconst StyledCardAccent = styled.div`\nbackground: linear-gradient(\n    45deg,\n    rgba(195, 169, 49, 1) 0%,\n    rgb(39,39,39) 10%,\n    rgba(195, 169, 49, 1) 20%,\n    rgba(195, 169, 49, 1) 30%,\n    rgb(39,39,39) 40%,\n    rgba(195, 169, 49, 1) 50%,\n    rgba(195, 169, 49, 1) 60%,\n    rgb(39,39,39) 70%,\n    rgba(195, 169, 49, 1) 80%,\n    rgba(195, 169, 49, 1) 90%,\n    rgba(195, 169, 49, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: ${RainbowLight} 4s linear infinite;\n  border-radius: 12px;\n  filter: blur(4px);\n  position: absolute;\n  \n  z-index: 1;\n \n  top: -2px; right: -2px; bottom: -2px; left: -2px;\n  \n\n`\n\n\nconst StyledCards = styled.div`\n  /*width: 900px;*/\n  @media (max-width: 950px) {\n    width: 100%;\n  }\n \n`\n\nconst StyledLoadingWrapper = styled.div`\n  margin: auto;\n  width: 160px;\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n   @media (max-width: 950px) {\n    margin: 100px;\n  }\n`\n\nconst StyledRow = styled.div`\n  display: flex;\n  margin-bottom: ${props => props.theme.spacing[4]}px;\n  flex-flow: row wrap;\n  @media (max-width: 950px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`\n\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  width: calc((900px - ${props => props.theme.spacing[4]}px * 2) / 3);\n  position: relative;\n  margin-bottom: 20px;\n  @media (max-width: 950px) {\n    margin-bottom: 0;\n  }\n  \n`\n\nconst StyledTitle = styled.h4`\n  color: ${props => props.theme.color.grey[600]};\n  font-size: 24px;\n  font-weight: 700;\n  margin: ${props => props.theme.spacing[2]}px 0 0;\n  padding: 0;\n`\n\nconst StyledContent = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  width: 90%;\n`\n\nconst StyledContentHorizontal = styled.div`\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  width: 95%;\n`\n\n\nconst StyledSpacer = styled.div`\n  height: ${props => props.theme.spacing[4]}px;\n  width: ${props => props.theme.spacing[4]}px;\n`\n\nconst StyledDetails = styled.div`\n  margin-top: ${props => props.theme.spacing[2]}px;\n  text-align: center;\n`\n\nconst StyledDetail = styled.div`\n  color: ${props => props.theme.color.grey[500]};\n`\n\nconst StyledHarvestable = styled.div`\n  //color: ${props => props.theme.color.secondary.main};\n  color: #F0E7EA;\n  font-size: 16px;\n  height: 36px;\n  margin-top: 13px;\n  text-align: center;\n`\n\nconst StyledMarginWrapper = styled.div`\n  margin-left: 50px;\n  margin-bottom: 140px;\n  @media (max-width: 950px) {\n    margin-left: 0;\n  }\n`;\nexport default FarmCards\n"]},"metadata":{},"sourceType":"module"}
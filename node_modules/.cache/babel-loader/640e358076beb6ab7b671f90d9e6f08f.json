{"ast":null,"code":"import PubSub from 'pubsub-js';\nimport { events } from \"../yam/lib/constants\";\n\nconst blockChainOpWrapper = async (operation, operationName) => {\n  let success = true;\n\n  try {\n    PubSub.publish(events.transaction.Started, operationName);\n    const txInfo = await operation;\n    PubSub.publish(events.transaction.Success, [operationName, txInfo]);\n  } catch (e) {\n    success = false;\n    PubSub.publish(events.transaction.Failed, [operationName, e.message]);\n  }\n\n  return success;\n};\n\nexport default blockChainOpWrapper;","map":{"version":3,"sources":["/Users/onceuponaprince/Desktop/beta-master/src/hooks/blockChainOpWrapper.tsx"],"names":["PubSub","events","blockChainOpWrapper","operation","operationName","success","publish","transaction","Started","txInfo","Success","e","Failed","message"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,SAAQC,MAAR,QAAqB,sBAArB;;AAEA,MAAMC,mBAAmB,GAAG,OAAOC,SAAP,EAAgCC,aAAhC,KAA6E;AACrG,MAAIC,OAAO,GAAG,IAAd;;AAEA,MAAI;AACAL,IAAAA,MAAM,CAACM,OAAP,CAAeL,MAAM,CAACM,WAAP,CAAmBC,OAAlC,EAA0CJ,aAA1C;AACA,UAAMK,MAAM,GAAG,MAAMN,SAArB;AACAH,IAAAA,MAAM,CAACM,OAAP,CAAeL,MAAM,CAACM,WAAP,CAAmBG,OAAlC,EAA2C,CAACN,aAAD,EAAeK,MAAf,CAA3C;AAEH,GALD,CAKE,OAAOE,CAAP,EAAU;AACRN,IAAAA,OAAO,GAAG,KAAV;AACAL,IAAAA,MAAM,CAACM,OAAP,CAAeL,MAAM,CAACM,WAAP,CAAmBK,MAAlC,EAA0C,CAACR,aAAD,EAAeO,CAAC,CAACE,OAAjB,CAA1C;AACH;;AAED,SAAOR,OAAP;AACH,CAdD;;AAgBA,eAAeH,mBAAf","sourcesContent":["import PubSub from 'pubsub-js'\nimport {events} from \"../yam/lib/constants\";\n\nconst blockChainOpWrapper = async (operation: Promise<any>, operationName: string ): Promise<boolean> => {\n    let success = true;\n\n    try {\n        PubSub.publish(events.transaction.Started,operationName);\n        const txInfo = await operation;\n        PubSub.publish(events.transaction.Success, [operationName,txInfo]);\n\n    } catch (e) {\n        success = false;\n        PubSub.publish(events.transaction.Failed, [operationName,e.message]);\n    }\n\n    return success;\n}\n\nexport default blockChainOpWrapper"]},"metadata":{},"sourceType":"module"}